{< if root }
   <div style="text-align:center">
     {< if running }
	<div class="progress">
	  <div style="width:{{ done }}%"></div>
	</div>
     {else}
	<button class="this"> <span>Run</span> </button> 
	<button class="all"> <span>Run all</span> </button> 
     {>}
   </div>
{>}
<ul>
  {< each sub }
    <li>
      {< if file }
	<a class="node{< if verb } verb{>}" href="{{file}}">
	  {< if count}<span{< if ran } class="{< if ok }ok{else}failed{>}"{>}>{{ count }}</span>{>}
	  {{ name }}
	  {< if verb }<code>{{ verb }} {{ path }}</code>{>}
	</a>
      {else}
        <div class="node" onclick="$(this).next().slideToggle('fast')">
    	  {< if count}<span{< if ran } class="{< if ok }ok{else}failed{>}"{>}>{{ count }}</span>{>}
	  {{ name }}
	  {< if verb }<code>{{ verb }} {{ path }}</code>{>}
        </div>
      {>}
      {< sidebar >}
    </li>
  {>}
  {< each tests }
    <li>
      <a {< if verb }class="verb"{>}href="{{ file }}">
	{< if count }<span{< if ran } class="{< if ok }ok{else}failed{>}"{>}>{{ count }}</span>{>} 
	{{ name }} 	
	{< if verb }<code>{{ verb }} {{ path }}</code>{>}
      </a>
      {< if failed }
	 <ul class="failed">
	   {< each failed }
	      <li><strong>{{ what }}</strong><small>{{ reason }}</small></li>
           {>}
	 </ul>
      {>}
    </li>
  {>}
</ul>
